# Cloudflare Tunnel SSH Configuration for Production
tunnel: ssh-access-production
credentials-file: /etc/cloudflared/tunnel-production.json

ingress:
  # SSH access via Access for Infrastructure
  - hostname: ssh.empathyfirstmedia.com
    service: ssh://localhost:22
    originRequest:
      connectTimeout: 30s
      tlsTimeout: 30s
      tcpKeepAlive: 30s
      keepAliveTimeout: 90s
      keepAliveConnections: 100

  # Database access for production
  - hostname: db.empathyfirstmedia.com
    service: tcp://localhost:5432
    originRequest:
      connectTimeout: 30s

  # Health check
  - hostname: health.empathyfirstmedia.com
    service: http://localhost:8787/health

  - service: http_status:404

# SSH Certificate Authority (update with your Cloudflare service token)
# service_token: op://Production/SSH_CA_Service_Token_Production/token